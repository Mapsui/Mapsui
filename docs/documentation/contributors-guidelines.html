<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Mapsui Contributor Guidelines </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Mapsui Contributor Guidelines ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="mapsui-contributor-guidelines">Mapsui Contributor Guidelines</h1>

<h2 id="issue-first">Issue first</h2>
<p>Submit an issue before a pull request co we can discuss the possible solutions to the problem.</p>
<h2 id="sign-the-contributor-license-agreement-cla">Sign the Contributor License Agreement (CLA)</h2>
<p>To contribute you need to sign our CLA </p>
<p><a href="https://cla-assistant.io/Mapsui/Mapsui"><img src="https://cla-assistant.io/readme/badge/Mapsui/Mapsui" alt="CLA assistant"></a></p>
<h2 id="complexity">Complexity</h2>
<p>Complexity is the biggest problem in software development. The primary effort should be to keep the complexity low. Complexity can be caused by clueless spaghetti code but also by <a href="https://www.joelonsoftware.com/2008/05/01/architecture-astronauts-take-over/">astronaut architectures</a>. Keeping things simple is <a href="https://www.infoq.com/presentations/Simple-Made-Easy">not easy</a> but hard work. It involves thinking up several solutions to your problem weighing the pros and cons and moving it around and upside down to look for even better (simpler) solutions. </p>
<h2 id="continuous-refactoring">Continuous Refactoring</h2>
<p>Mapsui has some older code in it. Don&#39;t despair. We continuously improve or replace older code. It is a gradual process. We do it step by step. We have made major changes in the past; From WinForms to WPF, From GDI+ to SL rendering. From .NET Framework to PCL. From PCL to .NET Standard. From WPF rendering to SkiaSharp. Add support for Xamarin.Forms. Future changes will include moving to NTS geometries, improving the Layers list. Taking these steps will cause breaking changes. We are aware of this and clearly communicate it with the user. We use <a href="http://semver.org">semver</a> so breaking changes go in to major version upgrades.</p>
<h2 id="all-checks-should-be-green-all-the-time">All checks should be green all the time</h2>
<p>At all times:</p>
<ul>
<li>All projects should compile</li>
<li>The unit tests should succeed</li>
<li>All samples should run properly</li>
</ul>
<h2 id="use-resharper">Use ReSharper</h2>
<p>Mapsui uses the resharper team settings by committing the DotSettings to git, so that all developers can use the same settings. We should have zero warnings. Suggestions should be treated as actual suggestions, use them only when you think it improves the code.</p>
<h2 id="keep-dependencies-in-the-csproj-and-nuspec-in-sync">Keep dependencies in the csproj and nuspec in sync</h2>
<p>If we upgrade a nuget package in the solution we should also upgrade the lower bound of the nuget package in the nuspec because this is what nuget installs. We want the user to get the same version as the one that we are working and testing with.</p>
<p>example csproj</p>
<pre><code class="lang-xml">&lt;PackageReference Include=&quot;SkiaSharp&quot; Version=&quot;2.80.2&quot; /&gt;
</code></pre><p>exmple nuspec</p>
<pre><code>&lt;dependency id=&quot;SkiaSharp&quot; version=&quot;[2.80.2,3.0.0)&quot;/&gt;
</code></pre><h2 id="keep-our-direct-and-indirect-dependencies-in-sync">Keep our direct and indirect dependencies in sync</h2>
<p>When we have direct and indirect dependecies on a nuget package those should all refer to the same version. For instance we have a direct dependency on SkiaSharp, but we also use  SvgSkia and RichTextKit and those have a dependency on SkiaSharp too. It would be optimal if all referred to the same version of SkiaSharp. This might not always be possible.</p>
<h2 id="extension-methods">Extension methods</h2>
<ul>
<li>Extension methods should always be in a Extensions folder. </li>
<li>They should be in a class that has the name &#39;{ClassItExtends}Extensions&#39;. </li>
<li>It should be in a namespace that follows the folder name (so not in the namespace of the class it extends).</li>
<li>Extensions of a collection (IEnumerable, List, Array etc) of a type should also be in the class that extends the individual type.</li>
</ul>
<h2 id="ordering-of-lon-lat">Ordering of lon lat</h2>
<ul>
<li>In our code we prefor a lon, lat order consistent with the x, y order of most cartographic projections.</li>
<li>Some background: The order of lon and lat always causes a lot of confusion. The official notation is lat, lon, but in map projections the lat corresponds to the y-axis and the lon to the x-axis. This is confusing because in math the ordering is the other way around: x, y. In our code we need to translate the lat/lon to an X/Y coordinate to draw it on the map. In the constructor of such a point the x (lon) will be the first parameter. There is no way that this problem can be fundamentally solved, there will always be some confusion. To mitigate it we choose one way of ordering which is lon, lat (consistent with x, y). </li>
<li>Also there are many ways in which we can avoid ordering altogher. For instance if we work with Longitude and Latitude properties. In the case of SphericalMercator.FromLonLat we use lon/lat in the method name to avoid confusion.</li>
</ul>
<h2 id="no-rendering-in-the-drawpaint-loop">No rendering in the draw/paint loop</h2>
<p>Mapsui strives for optiomal performance, so in the rendering loop the objects should be ready to be painted to canvas directly without any need for preparation. This is currently (4.0.0-beta.1) not the case. For instance in the case of tiles they are rendered on the first iteration, after that the cached version is used. This needs to be improved.</p>
<h3 id="about-the-terminology">About the terminology</h3>
<p><strong>Rendering</strong>: Create a platform specific resource.</p>
<pre><code class="lang-csharp">SKPath path = ToSKPath(feature, style);
</code></pre><p><strong>Drawing or Painting</strong>: Draw the platform specific resource to the canvas.</p>
<pre><code class="lang-csharp">canvas.DrawPath(path, paint);
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Mapsui/Mapsui/blob/master/docfx/documentation/contributors-guidelines.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
