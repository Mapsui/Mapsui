/* Full-screen layout adjustments */
.container {
    width: 100vw;
    height: 100vh;
    max-width: 100vw;
    margin: 0;
    background-color: white;
    padding: 0; /* Remove inner padding so panels truly fill space */
    border-radius: 0; /* Square edges for full-screen */
    box-shadow: none; /* Remove shadow in full-screen */
    display: flex;
    flex-direction: column;
}

h1 {
    margin: 0 0 8px 0;
    padding: 8px 12px;
    background: #ffffff;
    border-bottom: 1px solid #e2e2e2;
    font-size: 1.1rem;
}

.dropdown-row {
    display: flex;
    flex-wrap: wrap; /* allow wrap between field pairs */
    gap: 1rem 2rem; /* row gap then column gap */
    align-items: center;
}

/* Each label+select pair inline */
.dropdown-row .field-pair {
    display: inline-flex;
    align-items: center;
    flex-wrap: nowrap; /* keep label and its select together */
    white-space: nowrap; /* prevent internal wrap */
    gap: .35rem;
}

.dropdown-row .field-pair label {
    font-size: 0.85rem;
    font-weight: 500;
    color: #333;
    margin: 0;
    text-transform: none; /* remove caps */
    letter-spacing: normal;
}

.dropdown-row .field-pair select.form-select {
    padding: 4px 6px;
    font-size: 0.85rem;
    min-width: 160px;
}

/* Tab buttons: show as horizontal row when used (we'll hide them again on wide screens below) */
.tab-buttons {
    display: flex;
    flex-direction: row;
    gap: 10px;
    margin: 10px;
    align-items: stretch;
}

/* Hide tab buttons on wide screens where panels are side-by-side */
@media (min-width: 769px) {
    .tab-buttons { display: none; }
}

/* Flat buttons like in original static HTML */
.tab-btn {
    flex: 0 0 auto; /* Do not stretch full row */
    width: 180px; /* Consistent width across pages */
    padding: 12px 0; /* Center label horizontally */
    text-align: center;
    background-color: #e0e0e0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    line-height: 1.2;
    transition: background-color 0.3s;
}

/* Remove thick UA outlines while keeping keyboard accessibility */
.tab-btn:focus { outline: none; }
.tab-btn:focus-visible { outline: 2px solid #1d6fb8; outline-offset: 2px; }

.tab-btn:hover {
    background-color: #d0d0d0;
}

.tab-btn.active {
    background-color: #3498db;
    color: white;
}
/* Allow nested map to stretch */
.panel .canvas-container {
    width: 100%;
    height: 100%;
    position: relative;
    margin: 0;
    padding: 0;
}

.panel .canvas-container MapControlComponent,
.panel .canvas-container > * {
    width: 100%;
    height: 100%;
    display: block;
}

/* If internal rendering uses a canvas tag (as in global styles), enforce full size */
.panel .canvas-container canvas {
    width: 100% !important;
    height: 100% !important;
    display: block;
}
/* Panels area fills remaining space */
.panels-container {
    display: flex;
    gap: 0; /* Remove gap so panels meet edge-to-edge; adjust if desired */
    flex: 1 1 auto;
    width: 100%;
    height: 100%;
    align-items: stretch;
    overflow: hidden; /* Contain child scroll */
}

.panel {
    flex: 1 1 50%;
    padding: 0;
    background-color: #f9f9f9;
    border-right: 1px solid #ddd;
    overflow: hidden; /* We'll manage scroll inside */
    display: flex;
    flex-direction: column;
}

/* Remove right border on last panel */
.panel:last-child {
    border-right: none;
}

.panel h2 {
    margin: 12px 16px 8px 16px;
    color: #2c3e50;
}

.panel p {
    margin: 0 16px 12px 16px;
}

.panel ul {
    margin: 0 16px 16px 32px;
}

.panel li {
    margin-bottom: 8px;
}

/* Map specific sizing */
.map-panel {
    width: 100%;
    height: 600px; /* Fixed height to ensure visibility */
    position: relative;
    border-bottom: 1px solid #ccc;
}
.map-panel MapControlComponent,
.map-panel .canvas-container,
.map-panel canvas,
.map-panel > * {
    width: 100% !important;
    height: 100% !important;
    display: block;
}

/* Make first panel dedicate remaining space to the map */
#panel1 {
    display: flex;
}
#panel1 > .map-panel { flex: 1 1 auto; }

/* Optional: If you want a small header above the map, wrap it; currently map takes full panel */

/* Source code iframe panel full size */
#panel2 iframe.source-code-iframe {
    width: 100%;
    height: 100%;
    border: none;
}

/* Media query for small screens - switch to tabs */
@media (max-width: 768px) {
    /* On narrow screens we stack panels and use the tab buttons */
    .panels-container { display: block; height: calc(100vh - 120px); overflow: hidden; }
    .panel { display: none; height: 100%; border-right: none; border-bottom: 1px solid #ddd; }
    .panel.active { display: block; overflow: auto; }
}

/* Additional breakpoint for very small screens */
@media (max-width: 480px) {
    .container {
        padding: 15px;
    }

    .tab-btn {
        padding: 10px 16px;
        font-size: 14px;
    }
}
